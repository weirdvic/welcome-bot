# welcome-bot
Telegram бот для встречи и приветствия новых пользователей в группе

# Список команд бота
Бот отвечает только на команды от админов

- `/start` — Просто запуск бота
- `/report` — Отправить отчёт по пользователям, отслеживаемым в данный момент
- `/backup` — Сохранить текущий конфиг

# Сборка бота
1. Создать и отредактировать файл `config.json`
2. `go build -v .`
3. `./zruty-bot`

# Пример файла конфигурации
Бот не запустится без файла `config.json` в текущей директории. При завершении работы бота он сохраняет настройки в тот же файл `config.json` и загружает их при следующем запуске.

Пример конфига:
```
{
    "token": "1111111111:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
    "ban_after": 1,
    "groups": [
     "-1111111111111",
     "-2222222222222"
    ],
    "admins": {
     "111111111": {
      "id": "111111111",
      "username": "admin0"
     },
     "222222222": {
      "id": "22222222",
      "username": "admin1"
     }
    }
}
```

## Параметры конфигурации
- `token` — API токен бота
- `ban_after` — Количество часов, через которое банить пользователей, не проявивших активности
- `groups` — Список ID групп, в которых должен работать бот
- `admins` — Список админов бота

# TODO

- [ ] Автоматическая сборка в docker контейнер и обновление через github-actions
- [ ] Запоминать пользователей, который уже подтвердили что они не боты, покинули чат, но затем вернулись